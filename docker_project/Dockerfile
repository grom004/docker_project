# Используем официальный образ Python
FROM python:3.12.7

# Устанавливаем рабочую директорию внутри контейнера на /app. Все последующие команды будут выполняться относительно этой директории.
WORKDIR /app

# Копируем зависимости. Файл requirements.txt (содержащий зависимости Python) и файл app.py (основной код приложения) копируются из локальной директории в рабочую директорию контейнера (/app).
COPY requirements.txt .
COPY app.py .

# Устанавливаем зависимости Python, перечисленные в requirements.txt. `--no-cache-dir` чтобы не сохранять кэш pip для уменьшения размера итогового образа.
RUN pip install --no-cache-dir -r requirements.txt

# Указываем, что контейнер будет использовать порт 5000. Это не открывает порт на хосте, а лишь документирует, какой порт будет использоваться приложением.
EXPOSE 5000

# Запускаем приложение
CMD ["python", "app.py"]
